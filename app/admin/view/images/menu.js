var ddsmoothmenu={transition:{overtime:300,outtime:300},shadow:{enable:true,offsetx:5,offsety:5},showhidedelay:{showdelay:100,hidedelay:200},detectwebkit:navigator.userAgent.toLowerCase().indexOf("applewebkit")!=-1,detectie6:document.all&&!window.XMLHttpRequest,css3support:window.msPerformance||(!document.all&&document.querySelector),getajaxmenu:function(c,b){var a=c("#"+b.contentsource[0]);a.html("Loading Menu...");c.ajax({url:b.contentsource[1],async:true,error:function(d){a.html("Error fetching content. Server Response: "+d.responseText)},success:function(d){a.html(d);ddsmoothmenu.buildmenu(c,b)}})},buildmenu:function(d,j){var f=ddsmoothmenu;var b=d("#"+j.mainmenuid+">ul");b.parent().get(0).className=j.classname||"ddsmoothmenu";var g=b.find("ul").parent();g.hover(function(i){d(this).children("a:eq(0)").addClass("selected")},function(i){d(this).children("a:eq(0)").removeClass("selected")});g.each(function(l){var n=d(this).css({zIndex:100-l});var k=d(this).find("ul:eq(0)").css({display:"block"});k.data("timers",{});this._dimensions={w:this.offsetWidth,h:this.offsetHeight,subulw:k.outerWidth(),subulh:k.outerHeight()};this.istopheader=n.parents("ul").length==1?true:false;k.css({top:this.istopheader&&j.orientation!="v"?this._dimensions.h+"px":0});if(f.shadow.enable&&!f.css3support){this._shadowoffset={x:(this.istopheader?k.offset().left+f.shadow.offsetx:this._dimensions.w),y:(this.istopheader?k.offset().top+f.shadow.offsety:n.position().top)};if(this.istopheader){$parentshadow=d(document.body)}else{var m=n.parents("li:eq(0)");$parentshadow=m.get(0).$shadow}this.$shadow=d('<div class="ddshadow'+(this.istopheader?" toplevelshadow":"")+'"></div>').prependTo($parentshadow).css({left:this._shadowoffset.x+"px",top:this._shadowoffset.y+"px"})}n.hover(function(o){var i=k;var p=n.get(0);clearTimeout(i.data("timers").hidetimer);i.data("timers").showtimer=setTimeout(function(){p._offsets={left:n.offset().left,top:n.offset().top};var s=p.istopheader&&j.orientation!="v"?0:p._dimensions.w;s=(p._offsets.left+s+p._dimensions.subulw>d(window).width())?(p.istopheader&&j.orientation!="v"?-p._dimensions.subulw+p._dimensions.w:-p._dimensions.w):s;if(i.queue().length<=1){i.css({left:s+"px",width:p._dimensions.subulw+"px"}).animate({height:"show",opacity:"show"},ddsmoothmenu.transition.overtime);if(f.shadow.enable&&!f.css3support){var r=p.istopheader?i.offset().left+ddsmoothmenu.shadow.offsetx:s;var q=p.istopheader?i.offset().top+f.shadow.offsety:p._shadowoffset.y;if(!p.istopheader&&ddsmoothmenu.detectwebkit){p.$shadow.css({opacity:1})}p.$shadow.css({overflow:"",width:p._dimensions.subulw+"px",left:r+"px",top:q+"px"}).animate({height:p._dimensions.subulh+"px"},ddsmoothmenu.transition.overtime)}}},ddsmoothmenu.showhidedelay.showdelay)},function(o){var i=k;var p=n.get(0);clearTimeout(i.data("timers").showtimer);i.data("timers").hidetimer=setTimeout(function(){i.animate({height:"hide",opacity:"hide"},ddsmoothmenu.transition.outtime);if(f.shadow.enable&&!f.css3support){if(ddsmoothmenu.detectwebkit){p.$shadow.children("div:eq(0)").css({opacity:0})}p.$shadow.css({overflow:"hidden"}).animate({height:0},ddsmoothmenu.transition.outtime)}},ddsmoothmenu.showhidedelay.hidedelay)})});if(f.shadow.enable&&f.css3support){var a=d("#"+j.mainmenuid+" ul li ul");var e=parseInt(f.shadow.offsetx)+"px "+parseInt(f.shadow.offsety)+"px 5px #aaa";var h=["boxShadow","MozBoxShadow","WebkitBoxShadow","MsBoxShadow"];for(var c=0;c<h.length;c++){a.css(h[c],e)}}b.find("ul").css({display:"none",visibility:"visible"})},init:function(c){if(typeof c.customtheme=="object"&&c.customtheme.length==2){var b="#"+c.mainmenuid;var a=(c.orientation=="v")?b:b+", "+b;document.write('<style type="text/css">\n'+a+" ul li a {background:"+c.customtheme[0]+";}\n"+b+" ul li a:hover {background:"+c.customtheme[1]+";}\n</style>")}this.shadow.enable=(document.all&&!window.XMLHttpRequest)?false:this.shadow.enable;jQuery(document).ready(function(d){if(typeof c.contentsource=="object"){ddsmoothmenu.getajaxmenu(d,c)}else{ddsmoothmenu.buildmenu(d,c)}})}};

Fader=function(a){this.element=a.element;this.elementID=a.elementID;this.style=a.style;this.num=a.num;this.maxMove=a.maxMove;this.finishNum="string";this.interval=a.interval||10;this.step=a.step||20;this.onFinish=a.onFinish;this.isFinish=false;this.timer=null;this.method=this.num>=0;this.c=this.elementID?$("#"+this.elementID):this.element;this.run=function(){clearInterval(this.timer);this.fade();if(this.isFinish){this.onFinish&&this.onFinish()}else{var b=this;this.timer=setInterval(function(){b.run()},this.interval)}};this.fade=function(){if(this.finishNum=="string"){this.finishNum=(parseInt(this.c.css(this.style))||0)+this.num}var b=parseInt(this.c.css(this.style))||0;if(this.finishNum>b&&this.method){b+=this.step;if(b>=0){this.finishNum=b=0}}else{if(this.finishNum<b&&!this.method){b-=this.step;if(b*-1>=this.maxMove){this.finishNum=b=this.maxMove*-1}}}if(this.finishNum<=b&&this.method||this.finishNum>=b&&!this.method){this.c.css(this.style,this.finishNum+"px");this.isFinish=true;this.finishNum="string"}else{this.c.css(this.style,b+"px")}}};
TabPanel=function(a){this.renderTo=a.renderTo||$(document.body);this.border=a.border;this.render=typeof this.renderTo=="string"?$("#"+this.renderTo):this.renderTo;this.widthResizable=a.widthResizable;this.heightResizable=a.heightResizable;this.autoResizable=a.autoResizable?true:false;this.width=a.width||"100%";this.height=a.height||"100%";this.items=a.items;this.active=a.active||0;this.tabs=[];this.scrolled=false;this.tabWidth=110+4;this.fixNum=2;this.scrollFinish=true;this.maxLength=a.maxLength||-1;this.maxzindex=0;this.init()};TabPanel.prototype={init:function(){var d=this;if(this.autoResizable){this.widthResizable=this.heightResizable=true;this.render.css("overflow","hidden");$(window).resize(function(){window.setTimeout(function(){d.resize()},200)})}this.render.width(this.width);this.render.height(this.height);var e=this.border!="none"?2:0;this.tabpanel=$("<DIV></DIV>");this.tabpanel.addClass("tabpanel");this.tabpanel.width(this.render.width()-e);this.tabpanel.height(this.render.height()-e);this.render.append(this.tabpanel);this.tabpanel_tab_content=$("<DIV></DIV>");this.tabpanel_tab_content.addClass("tabpanel_tab_content");this.tabpanel_tab_content.appendTo(this.tabpanel);this.tabpanel_left_scroll=$("<DIV></DIV>");this.tabpanel_left_scroll.bind("click",function(){d.moveLeft()});this.tabpanel_left_scroll.addClass("tabpanel_left_scroll");this.tabpanel_left_scroll.addClass("display_none");this.tabpanel_left_scroll.bind("mouseover",function(){var f=$(this);f.addClass("tabpanel_scroll_over");f.bind("mouseout",function(){f.unbind("mouseout");f.removeClass("tabpanel_scroll_over")})});this.tabpanel_left_scroll.appendTo(this.tabpanel_tab_content);this.tabpanel_right_scroll=$("<DIV></DIV>");this.tabpanel_right_scroll.bind("click",function(){d.moveRight()});this.tabpanel_right_scroll.addClass("tabpanel_right_scroll");this.tabpanel_right_scroll.addClass("display_none");this.tabpanel_right_scroll.bind("mouseover",function(){var f=$(this);f.addClass("tabpanel_scroll_over");f.bind("mouseout",function(){f.unbind("mouseout");f.removeClass("tabpanel_scroll_over")})});this.tabpanel_right_scroll.appendTo(this.tabpanel_tab_content);this.tabpanel_move_content=$("<DIV></DIV>");this.tabpanel_move_content.addClass("tabpanel_move_content");this.tabpanel_move_content.appendTo(this.tabpanel_tab_content);this.tabpanel_mover=$("<UL></UL>");this.tabpanel_mover.addClass("tabpanel_mover");this.tabpanel_mover.appendTo(this.tabpanel_move_content);this.tabpanel_tab_spacer=$("<DIV></DIV>");this.tabpanel_tab_spacer.addClass("tabpanel_tab_spacer");this.tabpanel_tab_spacer.appendTo(this.tabpanel_tab_content);this.tabpanel_content=$("<DIV></DIV>");this.tabpanel_content.addClass("tabpanel_content");this.tabpanel_content.appendTo(this.tabpanel);var a=this.tabpanel.width();var c=this.tabpanel.height();if(this.border=="none"){this.tabpanel.css("border","none")}this.tabpanel_tab_content.width(a);this.tabpanel_content.width(a);this.tabpanel_content.height(c-this.tabpanel_tab_content.get(0).offsetHeight);this.update();for(var b=0;b<this.items.length;b++){this.items[b].notExecuteMoveSee=true;this.addTab(this.items[b])}if(this.active>=0){this.show(this.active,false)}},moveLeft:function(){if(this.scrollFinish){this.disableScroll();this.scrollFinish=false;Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:this.tabWidth,maxMove:this.maxMove,onFinish:this.useableScroll}));this.run()}},moveRight:function(){if(this.scrollFinish){this.disableScroll();this.scrollFinish=false;Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:this.tabWidth*-1,maxMove:this.maxMove,onFinish:this.useableScroll}));this.run()}},moveToLeft:function(){if(this.scrolled&&this.scrollFinish){this.disableScroll();this.scrollFinish=false;var a=parseInt(this.tabpanel_mover.css("marginLeft"))*-1;Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:a,maxMove:this.maxMove,interval:20,step:(a/10)<10?10:a/10,onFinish:this.useableScroll}));this.run()}},moveToRight:function(){if(this.scrolled&&this.scrollFinish){this.disableScroll();this.scrollFinish=false;var d=parseInt(this.tabpanel_mover.css("marginLeft"))*-1;var c=this.tabpanel_mover.children().length*this.tabWidth;var a=this.tabpanel_move_content.width();var b=(c-a-d+this.fixNum)*-1;Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:b,maxMove:this.maxMove,step:(b*-1/10)<10?10:b*-1/10,onFinish:this.useableScroll}));this.run()}},moveToSee:function(a){if(this.scrolled){var c=this.tabWidth*a;var b=parseInt(this.tabpanel_mover.css("marginLeft"));var d;if(b<=0){d=(b+c)*-1;if(((d+b)*-1)>=this.maxMove){this.moveToRight()}else{this.disableScroll();this.scrollFinish=false;Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:d,maxMove:this.maxMove,step:(d/10)<10?10:d/10,onFinish:this.useableScroll}));this.run()}}else{d=(c-b)*-1;if((d*-1)>=this.maxMove){this.moveToRight()}else{this.disableScroll();this.scrollFinish=false;Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:d,maxMove:this.maxMove,onFinish:this.useableScroll}));this.run()}}}},disableScroll:function(){this.tabpanel_left_scroll.addClass("tabpanel_left_scroll_disabled");this.tabpanel_left_scroll.attr("disabled",true);this.tabpanel_right_scroll.addClass("tabpanel_right_scroll_disabled");this.tabpanel_right_scroll.attr("disabled",true)},useableScroll:function(){var a=this;if(this.scrolled){if(parseInt(a.tabpanel_mover.css("marginLeft"))==0){a.tabpanel_left_scroll.addClass("tabpanel_left_scroll_disabled");a.tabpanel_left_scroll.attr("disabled",true);a.tabpanel_right_scroll.removeClass("tabpanel_right_scroll_disabled");a.tabpanel_right_scroll.removeAttr("disabled")}else{if(parseInt(a.tabpanel_mover.css("marginLeft"))*-1==a.maxMove){a.tabpanel_left_scroll.removeClass("tabpanel_left_scroll_disabled");a.tabpanel_left_scroll.removeAttr("disabled",true);a.tabpanel_right_scroll.addClass("tabpanel_right_scroll_disabled");a.tabpanel_right_scroll.attr("disabled")}else{a.tabpanel_left_scroll.removeClass("tabpanel_left_scroll_disabled");a.tabpanel_left_scroll.removeAttr("disabled",true);a.tabpanel_right_scroll.removeClass("tabpanel_right_scroll_disabled");a.tabpanel_right_scroll.removeAttr("disabled")}}}a.scrollFinish=true},update:function(){var a=this.tabpanel_tab_content.width();if(this.scrolled){a-=(this.tabpanel_left_scroll.width()+this.tabpanel_right_scroll.width())}this.tabpanel_move_content.width(a);this.maxMove=(this.tabpanel_mover.children().length*this.tabWidth)-a+this.fixNum},showScroll:function(){var a=this.tabpanel_mover.children().length*this.tabWidth;var b=this.tabpanel_tab_content.width();if(a>b&&!this.scrolled){this.tabpanel_move_content.addClass("tabpanel_move_content_scroll");this.tabpanel_left_scroll.removeClass("display_none");this.tabpanel_right_scroll.removeClass("display_none");this.scrolled=true}else{if(a<b&&this.scrolled){this.moveToLeft();this.tabpanel_move_content.removeClass("tabpanel_move_content_scroll");this.tabpanel_left_scroll.addClass("display_none");this.tabpanel_right_scroll.addClass("display_none");this.scrolled=false;this.scrollFinish=true}}},addTab:function(b){if(this.maxLength!=-1&&this.maxLength<=this.tabs.length){return false}b.id=b.id||Math.uuid();if($("#"+b.id).length>0){this.show(b.id,false)}else{if(this.scrollFinish){var e=this;var c=$("<LI></LI>");c.attr("id",b.id);c.appendTo(this.tabpanel_mover);var h=$("<DIV></DIV>");h.text(b.title);h.appendTo(c);var f=b.closable==false?0:5;if(b.icon){h.addClass("icon_title");h.css("background-image",'url("'+b.icon+'")');if(h.width()>(this.tabWidth-35-f)){h.width((this.tabWidth-50-f));h.attr("title",b.title);c.append("<DIV>...</DIV>")}}else{h.addClass("title");if(h.width()>(this.tabWidth-19-f)){h.width((this.tabWidth-30-f));h.attr("title",b.title);c.append("<DIV>...</DIV>")}}var i=$("<DIV></DIV>");i.addClass("closer");i.attr("title","Close tab");i.appendTo(c);var g=$("<DIV></DIV>");g.addClass("html_content");g.appendTo(this.tabpanel_content);var d=g.find("iframe");var a=this.tabpanel_mover.children().index(this.tabpanel_mover.find(".active")[0]);if(a<0){a=0}if(this.tabs.length>a){b.preTabId=this.tabs[a].id}else{b.preTabId=""}b.tab=c;b.title=h;b.closer=i;b.content=g;b.disable=b.disable==undefined?false:b.disable;b.closable=b.closable==undefined?true:b.closable;if(b.closable==false){i.addClass("display_none")}if(b.disabled==true){c.attr("disabled",true);h.addClass(".disabled")}this.tabs.push(b);c.bind("click",function(j){return function(){e.show(j,false)}}(this.tabs.length-1));i.bind("click",function(j){return function(){e.kill(j)}}(this.tabs.length-1));if(b.closable){c.bind("dblclick",function(j){return function(){e.kill(j)}}(this.tabs.length-1))}if(!b.lazyload){this.show(this.tabs.length-1,b.notExecuteMoveSee)}this.showScroll();this.update();if(!b.lazyload&&!b.notExecuteMoveSee){this.moveToRight()}}}},getTabPosision:function(a){if(typeof a=="string"){for(var b=0;b<this.tabs.length;b++){if(a==this.tabs[b].id){a=b;break}}}return a},refresh:function(a){a=this.getTabPosision(a);if(typeof a=="string"){return false}else{var c=this.tabs[a].content.find("iframe");if(c.length>0){var b=this.tabs[a].id+"Frame";this.iterateFlush(window.frames[b])}}},iterateFlush:function(c){if(c.window.frames.length>0){for(var a=0;a<c.window.frames.length;a++){this.iterateFlush(c.window.frames[a])}}else{if(c.document.forms.length>0){for(var a=0;a<c.document.forms.length;a++){try{c.document.forms[a].submit()}catch(b){c.location.reload()}}}else{c.location.reload()}}},show:function(a,b){if(this.tabs.length<1){return false}a=this.getTabPosision(a);if(typeof a=="string"){a=0}if(this.scrollFinish){if(a>=this.tabs.length){a=0}this.tabs[a].content.css("z-index",++this.maxzindex);if(this.tabs[a].tab.hasClass("active")){if(!b){this.moveToSee(a)}}else{if(this.tabs[a].content.html()==""){this.tabs[a].content.html(this.tabs[a].html)}this.tabpanel_mover.find(".active").removeClass("active");this.tabs[a].tab.addClass("active");if(!b){this.moveToSee(a)}}}},kill:function(a){var d=this;a=this.getTabPosision(a);var b=this.tabs[a].preTabId;this.tabs[a].closer.remove();this.tabs[a].title.remove();this.tabs[a].tab.remove();this.tabs[a].content.remove();this.tabs.splice(a,1);for(var c=0;c<this.tabs.length;c++){this.tabs[c].tab.unbind("click");this.tabs[c].tab.bind("click",function(e){return function(){d.show(e,false)}}(c));this.tabs[c].closer.unbind("click");this.tabs[c].closer.bind("click",function(e){return function(){d.kill(e)}}(c));if(this.tabs[c].closable){this.tabs[c].tab.unbind("dblclick");this.tabs[c].tab.bind("dblclick",function(e){return function(){d.kill(e)}}(c))}}this.update();this.showScroll();this.show(b,false)},getTabsCount:function(){return this.tabs.length},setTitle:function(a,b){a=this.getTabPosision(a);if(a<this.tabs.length){this.tabs[a].title.text(b)}},getTitle:function(a){a=this.getTabPosision(a);return this.tabs[a].title.text()},setContent:function(a,b){a=this.getTabPosision(a);if(a<this.tabs.length){this.tabs[a].content.html(b)}},getContent:function(a){a=this.getTabPosision(a);return this.tabs[a].content.html()},setDisable:function(a,b){a=this.getTabPosision(a);if(a<this.tabs.length){this.tabs[a].disable=b;if(b){this.tabs[a].tab.attr("disabled",true);this.tabs[a].title.addClass(".disabled")}else{this.tabs[a].tab.removeAttr("disabled");this.tabs[a].title.removeClass(".disabled")}}},getDisable:function(a){a=this.getTabPosision(a);return this.tabs[a].disable},setClosable:function(a,b){a=this.getTabPosision(a);if(a<this.tabs.length){this.tabs[a].closable=b;if(b){this.tabs[a].closer.addClass("display_none")}else{this.tabs[a].closer.addClass("closer");this.tabs[a].closer.removeClass("display_none")}}},getClosable:function(a){a=this.getTabPosision(a);return this.tabs[a].closable},getActiveIndex:function(){return this.tabpanel_mover.children().index(this.tabpanel_mover.find(".active")[0])},getActiveTab:function(){var a=this.tabpanel_mover.children().index(this.tabpanel_mover.find(".active")[0]);if(this.tabs.length>a){return this.tabs[a]}else{return null}},resize:function(){var b=this.border=="none"?0:2;if(this.widthResizable){this.width=this.render.width();this.tabpanel.width(this.width-b);this.tabpanel_tab_content.width(this.width-b);this.tabpanel_content.width(this.width-b)}if(this.heightResizable){this.height=this.render.height();this.tabpanel.height(this.height-b);this.tabpanel_content.height(this.height-this.tabpanel_tab_content.get(0).offsetHeight)}this.showScroll();this.useableScroll();this.update();var a=this;setTimeout(function(){a.moveToSee(a.getActiveIndex())},200)},setRenderWH:function(a){if(a){if(a.width!=undefined){this.render.width(a.width)}if(a.height!=undefined){this.render.height(a.height)}this.resize()}}};
Math.uuid=(function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(c,d){var h=a,e=[],g=Math.random;d=d||h.length;if(c){for(var i=0;i<c;i++){e[i]=h[0|g()*d]}}else{var b=0,f;e[8]=e[13]=e[18]=e[23]="-";e[14]="4";for(i=0;i<36;i++){if(!e[i]){f=0|g()*16;e[i]=h[(i==19)?(f&3)|8:f&15]}}}return e.join("")}})();var randomUUID=Math.uuid;

(function(jQuery){jQuery.fn.__bind__=jQuery.fn.bind;jQuery.fn.__unbind__=jQuery.fn.unbind;jQuery.fn.__find__=jQuery.fn.find;var hotkeys={version:'0.7.9',override:/keypress|keydown|keyup/g,triggersMap:{},specialKeys:{27:'esc',9:'tab',32:'space',13:'return',8:'backspace',145:'scroll',20:'capslock',144:'numlock',19:'pause',45:'insert',36:'home',46:'del',35:'end',33:'pageup',34:'pagedown',37:'left',38:'up',39:'right',40:'down',109:'-',112:'f1',113:'f2',114:'f3',115:'f4',116:'f5',117:'f6',118:'f7',119:'f8',120:'f9',121:'f10',122:'f11',123:'f12',191:'/'},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":"\"",",":"<",".":">","/":"?","\\":"|"},newTrigger:function(type,combi,callback){var result={};result[type]={};result[type][combi]={cb:callback,disableInInput:false};return result;}};hotkeys.specialKeys=jQuery.extend(hotkeys.specialKeys,{96:'0',97:'1',98:'2',99:'3',100:'4',101:'5',102:'6',103:'7',104:'8',105:'9',106:'*',107:'+',109:'-',110:'.',111:'/'});jQuery.fn.find=function(selector){this.query=selector;return jQuery.fn.__find__.apply(this,arguments);};jQuery.fn.unbind=function(type,combi,fn){if(jQuery.isFunction(combi)){fn=combi;combi=null;}
if(combi&&typeof combi==='string'){var selectorId=((this.prevObject&&this.prevObject.query)||(this[0].id&&this[0].id)||this[0]).toString();var hkTypes=type.split(' ');for(var x=0;x<hkTypes.length;x++){delete hotkeys.triggersMap[selectorId][hkTypes[x]][combi];}}
return this.__unbind__(type,fn);};jQuery.fn.bind=function(type,data,fn){var handle=type.match(hotkeys.override);if(jQuery.isFunction(data)||!handle){return this.__bind__(type,data,fn);}
else{var result=null,pass2jq=jQuery.trim(type.replace(hotkeys.override,''));if(pass2jq){result=this.__bind__(pass2jq,data,fn);}
if(typeof data==="string"){data={'combi':data};}
if(data.combi){for(var x=0;x<handle.length;x++){var eventType=handle[x];var combi=data.combi.toLowerCase(),trigger=hotkeys.newTrigger(eventType,combi,fn),selectorId=((this.prevObject&&this.prevObject.query)||(this[0].id&&this[0].id)||this[0]).toString();trigger[eventType][combi].disableInInput=data.disableInInput;if(!hotkeys.triggersMap[selectorId]){hotkeys.triggersMap[selectorId]=trigger;}
else if(!hotkeys.triggersMap[selectorId][eventType]){hotkeys.triggersMap[selectorId][eventType]=trigger[eventType];}
var mapPoint=hotkeys.triggersMap[selectorId][eventType][combi];if(!mapPoint){hotkeys.triggersMap[selectorId][eventType][combi]=[trigger[eventType][combi]];}
else if(mapPoint.constructor!==Array){hotkeys.triggersMap[selectorId][eventType][combi]=[mapPoint];}
else{hotkeys.triggersMap[selectorId][eventType][combi][mapPoint.length]=trigger[eventType][combi];}
this.each(function(){var jqElem=jQuery(this);if(jqElem.attr('hkId')&&jqElem.attr('hkId')!==selectorId){selectorId=jqElem.attr('hkId')+";"+selectorId;}
jqElem.attr('hkId',selectorId);});result=this.__bind__(handle.join(' '),data,hotkeys.handler)}}
return result;}};hotkeys.findElement=function(elem){if(!jQuery(elem).attr('hkId')){if(jQuery.browser.opera||jQuery.browser.safari){while(!jQuery(elem).attr('hkId')&&elem.parentNode){elem=elem.parentNode;}}}
return elem;};hotkeys.handler=function(event){var target=hotkeys.findElement(event.currentTarget),jTarget=jQuery(target),ids=jTarget.attr('hkId');if(ids){ids=ids.split(';');var code=event.which,type=event.type,special=hotkeys.specialKeys[code],character=!special&&String.fromCharCode(code).toLowerCase(),shift=event.shiftKey,ctrl=event.ctrlKey,alt=event.altKey||event.originalEvent.altKey,mapPoint=null;for(var x=0;x<ids.length;x++){if(hotkeys.triggersMap[ids[x]][type]){mapPoint=hotkeys.triggersMap[ids[x]][type];break;}}
if(mapPoint){var trigger;if(!shift&&!ctrl&&!alt){trigger=mapPoint[special]||(character&&mapPoint[character]);}
else{var modif='';if(alt)modif+='alt+';if(ctrl)modif+='ctrl+';if(shift)modif+='shift+';trigger=mapPoint[modif+special];if(!trigger){if(character){trigger=mapPoint[modif+character]||mapPoint[modif+hotkeys.shiftNums[character]]||(modif==='shift+'&&mapPoint[hotkeys.shiftNums[character]]);}}}
if(trigger){var result=false;for(var x=0;x<trigger.length;x++){if(trigger[x].disableInInput){var elem=jQuery(event.target);if(jTarget.is("input")||jTarget.is("textarea")||jTarget.is("select")||elem.is("input")||elem.is("textarea")||elem.is("select")){return true;}}
result=result||trigger[x].cb.apply(this,[event]);}
return result;}}}};window.hotkeys=hotkeys;return jQuery;})(jQuery);